(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{190:function(t,e,o){"use strict";var r=o(16);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(o(122)),l=r(o(61)),i=r(o(191)),s=r(o(197)),c=r(o(198)),a=r(o(200)),u=r(o(59)),f=r(o(201)),p=r(o(202)),d=r(o(7)),y=r(o(0)),h=r(o(204)),v=r(o(205));var m=function(t){function e(t){var o;return(0,s.default)(this,e),(o=(0,c.default)(this,(0,a.default)(e).call(this,t))).state={targetItems:[],inViewState:[],isScrolledPast:[]},o._handleSpy=o._handleSpy.bind((0,u.default)(o)),o}return(0,p.default)(e,t),(0,f.default)(e,null,[{key:"propTypes",get:function(){return{items:d.default.arrayOf(d.default.string).isRequired,currentClassName:d.default.string.isRequired,scrolledPastClassName:d.default.string,style:d.default.object,componentTag:d.default.oneOfType([d.default.string,d.default.func]),offset:d.default.number,rootEl:d.default.string,onUpdate:d.default.func}}},{key:"defaultProps",get:function(){return{items:[],currentClassName:"",style:{},componentTag:"ul",offset:0,onUpdate:function(){}}}}]),(0,f.default)(e,[{key:"_initSpyTarget",value:function(t){return t.map(function(t){return document.getElementById(t)})}},{key:"_fillArray",value:function(t,e){for(var o=[],r=0,n=t.length;r<n;r++)o[r]=e;return o}},{key:"_isScrolled",value:function(){return this._getScrollDimension().scrollTop>0}},{key:"_getScrollDimension",value:function(){var t=document,e=this.props.rootEl;return{scrollTop:e?t.querySelector(e).scrollTop:t.documentElement.scrollTop||t.body.parentNode.scrollTop||t.body.scrollTop,scrollHeight:e?t.querySelector(e).scrollHeight:t.documentElement.scrollHeight||t.body.parentNode.scrollHeight||t.body.scrollHeight}}},{key:"_getElemsViewState",value:function(t){for(var e=[],o=[],r=[],n=t||this.state.targetItems,l=!1,s=0,c=n.length;s<c;s++){var a=n[s],u=!l&&this._isInView(a);u?(l=!0,e.push(a)):o.push(a);var f=s===c-1,p=this._isScrolled();this._isAtBottom()&&this._isInView(a)&&!u&&f&&p&&(o.pop(),o.push.apply(o,(0,i.default)(e)),e=[a],r=this._fillArray(r,!1),u=!0),r.push(u)}return{inView:e,outView:o,viewStatusList:r,scrolledPast:this.props.scrolledPastClassName&&this._getScrolledPast(r)}}},{key:"_isInView",value:function(t){if(!t)return!1;var e,o=this.props,r=o.rootEl,n=o.offset;r&&(e=document.querySelector(r).getBoundingClientRect());var l=t.getBoundingClientRect(),i=r?e.height:window.innerHeight,s=this._getScrollDimension().scrollTop,c=s+i,a=r?l.top+s-e.top+n:l.top+s+n,u=a+t.offsetHeight;return a<c&&u>s}},{key:"_isAtBottom",value:function(){var t=this.props.rootEl,e=this._getScrollDimension(),o=e.scrollTop,r=e.scrollHeight;return o+(t?document.querySelector(t).getBoundingClientRect().height:window.innerHeight)>=r}},{key:"_getScrolledPast",value:function(t){if(!t.some(function(t){return t}))return t;var e=!1;return t.map(function(t){return t&&!e?(e=!0,!1):!e})}},{key:"_spy",value:function(t){var e=this,o=this._getElemsViewState(t),r=this.state.inViewState;this.setState({inViewState:o.viewStatusList,isScrolledPast:o.scrolledPast},function(){e._update(r)})}},{key:"_update",value:function(t){var e,o;(e=this.state.inViewState,o=t,e.length===o.length&&e.every(function(t,e){return t===o[e]}))||this.props.onUpdate(this.state.targetItems[this.state.inViewState.indexOf(!0)])}},{key:"_handleSpy",value:function(){(0,v.default)(this._spy(),100)}},{key:"_initFromProps",value:function(){var t=this._initSpyTarget(this.props.items);this.setState({targetItems:t}),this._spy(t)}},{key:"offEvent",value:function(){(this.props.rootEl?document.querySelector(this.props.rootEl):window).removeEventListener("scroll",this._handleSpy)}},{key:"onEvent",value:function(){(this.props.rootEl?document.querySelector(this.props.rootEl):window).addEventListener("scroll",this._handleSpy)}},{key:"componentDidMount",value:function(){this._initFromProps(),this.onEvent()}},{key:"componentWillUnmount",value:function(){this.offEvent()}},{key:"componentWillReceiveProps",value:function(){this._initFromProps()}},{key:"render",value:function(){var t=this,e=this.props.componentTag,o=this.props,r=o.children,i=o.className,s=o.scrolledPastClassName,c=o.style,a=0,u=y.default.Children.map(r,function(e,o){var r;if(!e)return null;var i=e.type,c=s&&t.state.isScrolledPast[o],u=(0,h.default)((r={},(0,l.default)(r,"".concat(e.props.className),e.props.className),(0,l.default)(r,"".concat(t.props.currentClassName),t.state.inViewState[o]),(0,l.default)(r,"".concat(t.props.scrolledPastClassName),c),r));return y.default.createElement(i,(0,n.default)({},e.props,{className:u,key:a++}),e.props.children)}),f=(0,h.default)((0,l.default)({},"".concat(i),i));return y.default.createElement(e,{className:f,style:c},u)}}]),e}(y.default.Component);e.default=m},191:function(t,e,o){var r=o(192),n=o(193),l=o(196);t.exports=function(t){return r(t)||n(t)||l()}},192:function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}},193:function(t,e,o){o(83),o(194),o(77),o(12),o(58),o(44),o(28),t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},194:function(t,e,o){"use strict";var r=o(23),n=o(8),l=o(24),i=o(117),s=o(118),c=o(18),a=o(195),u=o(119);n(n.S+n.F*!o(80)(function(t){Array.from(t)}),"Array",{from:function(t){var e,o,n,f,p=l(t),d="function"==typeof this?this:Array,y=arguments.length,h=y>1?arguments[1]:void 0,v=void 0!==h,m=0,g=u(p);if(v&&(h=r(h,y>2?arguments[2]:void 0,2)),null==g||d==Array&&s(g))for(o=new d(e=c(p.length));e>m;m++)a(o,m,v?h(p[m],m):p[m]);else for(f=g.call(p),o=new d;!(n=f.next()).done;m++)a(o,m,v?i(f,h,[n.value,m],!0):n.value);return o.length=m,o}})},195:function(t,e,o){"use strict";var r=o(14),n=o(45);t.exports=function(t,e,o){e in t?r.f(t,e,n(0,o)):t[e]=o}},196:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},197:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},198:function(t,e,o){var r=o(199),n=o(59);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?n(t):e}},199:function(t,e,o){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(e){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?t.exports=n=function(t){return r(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},n(e)}o(58),o(44),t.exports=n},200:function(t,e,o){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}o(116),t.exports=r},201:function(t,e){function o(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}},202:function(t,e,o){var r=o(203);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},203:function(t,e,o){function r(e,o){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(e,o)}o(116),t.exports=r},204:function(t,e,o){var r;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var l=typeof r;if("string"===l||"number"===l)t.push(r);else if(Array.isArray(r)&&r.length){var i=n.apply(null,r);i&&t.push(i)}else if("object"===l)for(var s in r)o.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(n.default=n,t.exports=n):void 0===(r=function(){return n}.apply(e,[]))||(t.exports=r)}()},205:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){var e,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){var n=+new Date;e&&n<e+r?(clearTimeout(o),o=setTimeout(function(){e=n,t()},r)):(e=n,t())}};e.default=r},206:function(t,e,o){o(181),function(){"use strict";t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style&&!0!==t.__forceSmoothScrollPolyfill__)){var o,r=t.HTMLElement||t.Element,n=468,l={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:r.prototype.scroll||c,scrollIntoView:r.prototype.scrollIntoView},i=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,s=(o=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(o)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==a(arguments[0])?y.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):l.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(a(arguments[0])?l.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):y.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==a(arguments[0])){var t=arguments[0].left,e=arguments[0].top;y.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");l.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==a(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):l.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==a(arguments[0])){var o=function(t){for(;t!==e.body&&!1===p(t);)t=t.parentNode||t.host;return t}(this),r=o.getBoundingClientRect(),n=this.getBoundingClientRect();o!==e.body?(y.call(this,o,o.scrollLeft+n.left-r.left,o.scrollTop+n.top-r.top),"fixed"!==t.getComputedStyle(o).position&&t.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):t.scrollBy({left:n.left,top:n.top,behavior:"smooth"})}else l.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function c(t,e){this.scrollLeft=t,this.scrollTop=e}function a(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(t,e){return"Y"===e?t.clientHeight+s<t.scrollHeight:"X"===e?t.clientWidth+s<t.scrollWidth:void 0}function f(e,o){var r=t.getComputedStyle(e,null)["overflow"+o];return"auto"===r||"scroll"===r}function p(t){var e=u(t,"Y")&&f(t,"Y"),o=u(t,"X")&&f(t,"X");return e||o}function d(e){var o,r,l,s,c=(i()-e.startTime)/n;s=c=c>1?1:c,o=.5*(1-Math.cos(Math.PI*s)),r=e.startX+(e.x-e.startX)*o,l=e.startY+(e.y-e.startY)*o,e.method.call(e.scrollable,r,l),r===e.x&&l===e.y||t.requestAnimationFrame(d.bind(t,e))}function y(o,r,n){var s,a,u,f,p=i();o===e.body?(s=t,a=t.scrollX||t.pageXOffset,u=t.scrollY||t.pageYOffset,f=l.scroll):(s=o,a=o.scrollLeft,u=o.scrollTop,f=c),d({scrollable:s,method:f,startTime:p,startX:a,startY:u,x:r,y:n})}}}}()}}]);
//# sourceMappingURL=7-ea9e131cafb0ac635336.js.map